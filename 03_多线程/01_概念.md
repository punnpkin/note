#  01 概念

进程时执行程序的一次执行过程，是资源分配的最小单位。

一个进程包含若干个线程，至少包括一个主线程，CPU是调度和执行的单位。

## 程序上下文

执行一段程序代码，实现一个功能的过程介绍 ，当得到CPU的时候，相关的资源必须也已经就位，就是显卡啊，GPS啊什么的必须就位，然后CPU开始执行。

这里除了CPU以外所有的就构成了这个程序的执行环境，也就是我们所**定义的程序上下文**。

当这个程序执行完了，或者分配给他的CPU执行时间用完了，那它就要被切换出去，等待下一次CPU的临幸。在被切换出去的最后一步工作就是**保存程序上下文**，因为这个是下次他被CPU临幸的运行环境，必须保存。

**进程就是包换上下文切换的程序执行时间总和** = **CPU加载上下文+CPU执行+CPU保存上下文**

因为进程的颗粒很大，每次都要有上下的**调入，保存，调出**。

对于线程来说，他们**共享了进程的上下文**，在更为细小的CPU时间段工作。



# 02 守护线程 daemon

线程分为**用户线程和守护线程**

虚拟机**必须确保**用户线程执行完毕

虚拟机**不必等待**守护线程执行完毕

后台日志，监控内存，垃圾回收



