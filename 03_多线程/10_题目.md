# ğŸŒ°

## 1. çº¿ç¨‹æ‰§è¡Œçš„é¡ºåº

### 1.1 join

```Java
public class TestJoin implements Runnable{

    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName());
    }

    public static void main(String[] args) throws Exception {
        TestJoin thread = new TestJoin();

        Thread t1 = new Thread(thread, "A");
        Thread t2 = new Thread(thread, "B");


        t2.start();
        t1.start();
        System.out.println("C");
    }
}

// è¾“å‡ºçš„ç»“æœï¼ŒABCçš„æ¬¡åºä¸ä¸€å®š
```

```java
public class TestJoin implements Runnable{

    @Override
    public void run() {
        for (int i = 0; i < 5; i++) {
            System.out.println(Thread.currentThread().getName()+"-"+i);
        }
    }

    public static void main(String[] args) throws Exception {
        TestJoin thread = new TestJoin();

        Thread t1 = new Thread(thread, "A");
        Thread t2 = new Thread(thread, "B");

        t1.start();
        t1.join();

        t2.start();
    }
}
// å…ˆAåB
```

### 1.2 countDownLatch

- countDownLatchè¿™ä¸ªç±»ä½¿ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å…¶ä»–çº¿ç¨‹å„è‡ªæ‰§è¡Œå®Œæ¯•åå†æ‰§è¡Œã€‚

- æ˜¯é€šè¿‡ä¸€ä¸ªè®¡æ•°å™¨æ¥å®ç°çš„ï¼Œè®¡æ•°å™¨çš„åˆå§‹å€¼æ˜¯çº¿ç¨‹çš„æ•°é‡ã€‚æ¯å½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ¯•åï¼Œè®¡æ•°å™¨çš„å€¼å°±-1ï¼Œå½“è®¡æ•°å™¨çš„å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œç„¶ååœ¨é—­é”ä¸Šç­‰å¾…çš„çº¿ç¨‹å°±å¯ä»¥æ¢å¤å·¥ä½œäº†ã€‚

```java
// æ„é€ å‡½æ•°
public CountDownLatch(int count) {
    if (count < 0) {
        throw new IllegalArgumentException("count < 0");
    } else {
        this.sync = new CountDownLatch.Sync(count);
    }
}
```

```java
// ä¸»è¦æ–¹æ³•
//è°ƒç”¨await()æ–¹æ³•çš„çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œå®ƒä¼šç­‰å¾…ç›´åˆ°countå€¼ä¸º0æ‰ç»§ç»­æ‰§è¡Œ
public void await() throws InterruptedException { };   
//å’Œawait()ç±»ä¼¼ï¼Œåªä¸è¿‡ç­‰å¾…ä¸€å®šçš„æ—¶é—´åcountå€¼è¿˜æ²¡å˜ä¸º0çš„è¯å°±ä¼šç»§ç»­æ‰§è¡Œ
public boolean await(long timeout, TimeUnit unit) throws InterruptedException { };  
//å°†countå€¼å‡1
public void countDown() { };  
```